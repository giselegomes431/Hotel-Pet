<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style-cadastrar_pet.css" />
    <title>Cadastrar Pet</title>
  </head>
  <body>
    <div class="container">
      <!-- Menu lateral -->
      <aside class="sidebar">
        <h2>Hotel Pet</h2>
        <nav>
          <ul>
            <li class="active"><a href="pets.html">Pets</a></li>
            <li><a href="usuarios.html">Usuários</a></li>
            <li><a href="configuracoes.html">Configurações</a></li>
            <li><a href="reservas.html">Reservas</a></li>
          </ul>
        </nav>
      </aside>

      <!-- Conteúdo principal -->
      <main class="main-content">
        <!-- Cabeçalho -->
        <header class="header">
          <div class="breadcrumb">Home / Pet / Cadastrar Pet</div>
          <div class="user-info">
            <span>João da Silva</span>
            <img
              src="https://cdn.icon-icons.com/icons2/933/PNG/512/round-account-button-with-user-inside_icon-icons.com_72596.png"
              alt="Ícone de usuário"
            />
          </div>
        </header>

        <!-- Seção de edição do pet -->
        <section class="view-pet-section">
          <h2>Cadastrar Pet</h2>
          <div class="form-grid">
            <div class="form-fields">
              <div class="form-group">
                <label for="proprietario">Proprietário: *</label>
                <input
                  type="text"
                  id="proprietario"
                  name="proprietario"
                  required
                />
              </div>
              <div class="form-group">
                <label for="nome">Nome: *</label>
                <input type="text" id="nome" name="nome" required />
              </div>
              <div class="form-group">
                <label for="tipo">Tipo: *</label>
                <select id="tipo" name="tipo" required>
                  <option value="cachorro">Cachorro</option>
                  <option value="gato">Gato</option>
                  <option value="outro">Outro</option>
                </select>
              </div>
              <div class="form-group">
                <label for="raca">Raça: *</label>
                <input type="text" id="raca" name="raca" required />
              </div>
              <div class="form-group">
                <label for="tamanho">Tamanho: *</label>
                <select id="tamanho" name="tamanho" required>
                  <option value="pequeno">Pequeno</option>
                  <option value="medio">Médio</option>
                  <option value="grande">Grande</option>
                </select>
              </div>
            </div>
            <div class="image-upload">
              <label for="imagem">Imagem:</label>
              <div class="image-placeholder">
                <!-- Placeholder para imagem -->
              </div>
              <input type="file" id="imagem" name="imagem" accept="image/*" />
            </div>
          </div>
          <div class="form-buttons">
            <button type="button" class="btn search" onclick="salvarPet()">
              Salvar
            </button>
            <button type="button" class="btn edit" onclick="limparFormulario()">
              Limpar
            </button>
          </div>
        </section>
      </main>
    </div>

    <script>
      function salvarPet() {
        const nome = document.getElementById("nome").value.trim();
        const proprietario = document.getElementById("proprietario").value.trim();
        const tipo = document.getElementById("tipo").value.trim();
        const raca = document.getElementById("raca").value.trim();
        const tamanho = document.getElementById("tamanho").value.trim();

        // Verifica se todos os campos obrigatórios estão preenchidos
        if (!nome || !tipo || !raca || !tamanho || !proprietario) {
          alert("Preencha todos os campos obrigatórios!");
          return;
        }

        // Criar um objeto do pet
        const pet = {
          id: Date.now(), // Usando timestamp como ID único
          proprietario,
          nome,
          tipo,
          raca,
          tamanho,
        };

        // Recuperar os pets do localStorage, ou inicializar um array vazio
        let pets = JSON.parse(localStorage.getItem("pets")) || [];

        // Adicionar o novo pet ao array
        pets.push(pet);

        // Salvar o array atualizado no localStorage
        localStorage.setItem("pets", JSON.stringify(pets));

        // Exibir mensagem de sucesso
        alert("Pet cadastrado com sucesso!");

        // Redirecionar para a página de listagem
        window.location.href = "pets.html";
      }

      function limparFormulario() {
        document.getElementById("proprietario").value = "";
        document.getElementById("nome").value = "";
        document.getElementById("tipo").value = "cachorro";
        document.getElementById("raca").value = "";
        document.getElementById("tamanho").value = "pequeno";

        // Mensagem de feedback ao usuário
        alert("Formulário limpo!");
      }
    </script>
  </body>
</html>
